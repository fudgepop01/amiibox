{"version":3,"file":"main.js","sources":["../src/main.ts"],"sourcesContent":["import * as path from 'path';\nimport * as url from 'url';\nimport { app, BrowserWindow } from 'electron';\n\n// Keep a global reference of the window object, if you don't, the window will\n// be closed automatically when the JavaScript object is garbage collected.\nlet win: BrowserWindow | null;\n\nconst mode = process.env.NODE_ENV;\n\nfunction reloadOnChange(win: BrowserWindow) {\n\tif (mode !== 'development') return { close: () => {} };\n\n\tconst watcher = require('chokidar').watch(path.join(__dirname, '**'), { ignoreInitial: true });\n\n\twatcher.on('change', () => {\n\t\twin.reload();\n\t});\n\n\treturn watcher;\n}\n\nfunction launch() {\n\twin = new BrowserWindow({\n\t\twidth: 800,\n\t\theight: 600,\n\t\tminWidth: 600,\n\t\tbackgroundColor: 'white',\n\t\ttitleBarStyle: 'hidden',\n\t\twebPreferences: {\n\t\t\tnodeIntegration: true,\n\t\t\twebSecurity: false\n\t\t}\n\t});\n\n\n\twin.loadURL(\n\t\turl.format({\n\t\t\tpathname: path.resolve(__dirname, '../static/index.html'),\n\t\t\tprotocol: 'file:',\n\t\t\tslashes: true\n\t\t})\n\t);\n\n\n\tconst watcher = reloadOnChange(win);\n\n\twin.on('closed', function() {\n\t\twin = null;\n\t\twatcher.close();\n\t});\n}\n\n// This method will be called when Electron has finished\n// initialization and is ready to create browser windows.\n// Some APIs can only be used after this event occurs.\napp.on('ready', launch);\n\n// Quit when all windows are closed.\napp.on('window-all-closed', function() {\n\t// On OS X it is common for applications and their menu bar\n\t// to stay active until the user quits explicitly with Cmd + Q\n\tif (process.platform !== 'darwin') {\n\t\tapp.quit();\n\t}\n});\n\napp.on('activate', function() {\n\t// On OS X it's common to re-create a window in the app when the\n\t// dock icon is clicked and there are no other windows open.\n\tif (win === null) {\n\t\tlaunch();\n\t}\n});\n"],"names":["path.join","BrowserWindow","url.format","path.resolve","app"],"mappings":";;;;;;AAIA;;AAEA,IAAI,GAAyB,CAAC;AAE9B,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;AAElC,SAAS,cAAc,CAAC,GAAkB;IACzC,IAAI,IAAI,KAAK,aAAa;QAAE,OAAO,EAAE,KAAK,EAAE,SAAQ,EAAE,CAAC;IAEvD,MAAM,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,KAAK,CAACA,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC;IAE/F,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE;QACpB,GAAG,CAAC,MAAM,EAAE,CAAC;KACb,CAAC,CAAC;IAEH,OAAO,OAAO,CAAC;CACf;AAED,SAAS,MAAM;IACd,GAAG,GAAG,IAAIC,sBAAa,CAAC;QACvB,KAAK,EAAE,GAAG;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,GAAG;QACb,eAAe,EAAE,OAAO;QACxB,aAAa,EAAE,QAAQ;QACvB,cAAc,EAAE;YACf,eAAe,EAAE,IAAI;YACrB,WAAW,EAAE,KAAK;SAClB;KACD,CAAC,CAAC;IAGH,GAAG,CAAC,OAAO,CACVC,UAAU,CAAC;QACV,QAAQ,EAAEC,YAAY,CAAC,SAAS,EAAE,sBAAsB,CAAC;QACzD,QAAQ,EAAE,OAAO;QACjB,OAAO,EAAE,IAAI;KACb,CAAC,CACF,CAAC;IAGF,MAAM,OAAO,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC;IAEpC,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE;QAChB,GAAG,GAAG,IAAI,CAAC;QACX,OAAO,CAAC,KAAK,EAAE,CAAC;KAChB,CAAC,CAAC;CACH;;;;AAKDC,YAAG,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;;AAGxBA,YAAG,CAAC,EAAE,CAAC,mBAAmB,EAAE;;;IAG3B,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;QAClCA,YAAG,CAAC,IAAI,EAAE,CAAC;KACX;CACD,CAAC,CAAC;AAEHA,YAAG,CAAC,EAAE,CAAC,UAAU,EAAE;;;IAGlB,IAAI,GAAG,KAAK,IAAI,EAAE;QACjB,MAAM,EAAE,CAAC;KACT;CACD,CAAC,CAAC"}